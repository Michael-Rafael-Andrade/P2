<h1 class="mb-4">{{titulo_pagina}}</h1>

{{#if tem_pedidos}}
<div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Dia da Compra</th>
                <th scope="col">Usuário</th>
                <th scope="col">Total</th>
                <th scope="col">Produtos</th>
                <th scope="col">Status</th>
                <th scope="col">Última Atualização</th>
                <th scope="col" class="text-center">Ações</th>
            </tr>
        </thead>
        <tbody>
            {{#each pedidos}}
            <tr>
                <th scope="row">{{this.id}}</th>
                <td>{{this.dia_compra}}</td>
                <td>{{this.nome_usuario}}</td>
                <td class="fw-bold text-success">R$ {{this.valor_total}}</td>
                <td>{{this.numero_produtos}}</td>
                <td>
                    {{#eq this.status 'CONCLUIDO'}}
                    <span class="badge bg-success"><i class="bi bi-check-circle"></i> CONCLUÍDO</span>
                    {{/eq}}
                    {{#eq this.status 'CANCELADO'}}
                    <span class="badge bg-danger"><i class="bi bi-x-circle"></i> CANCELADO</span>
                    {{/eq}}
                    {{#eq this.status 'SUSPENSO'}}
                    <span class="badge bg-warning text-dark"><i class="bi bi-pause-circle"></i> SUSPENSO</span>
                    {{/eq}}
                    {{#eq this.status 'PENDENTE'}}
                    <span class="badge bg-info text-dark"><i class="bi bi-arrow-clockwise"></i> PENDENTE</span>
                    {{/eq}}
                </td>
                <td>{{this.dia_atualizacao}}</td>
                <td class="text-center">
                    <div class="btn-group" role="group">
                        <a href="/pedidos/altera-status/{{this.id}}/CONCLUIDO" class="btn btn-success btn-sm"
                            title="Concluir">
                            <i class="bi bi-check"></i>
                        </a>
                        <a href="/pedidos/altera-status/{{this.id}}/SUSPENSO" class="btn btn-warning btn-sm"
                            title="Suspender">
                            <i class="bi bi-pause"></i>
                        </a>
                        <a href="/pedidos/altera-status/{{this.id}}/CANCELADO" class="btn btn-danger btn-sm"
                            title="Cancelar">
                            <i class="bi bi-x"></i>
                        </a>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>

{{else}}
<div class="alert alert-info text-center mt-5" role="alert">
    <h4><i class="bi bi-info-circle"></i> Não há pedidos finalizados.</h4>
    <p class="mb-0">Realize uma compra na <a href="/">Página Principal</a> para popular esta lista.</p>
</div>
{{/if}}

<div class="mt-5 text-end">
    <a href="/" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Voltar
    </a>
</div>